<p align="center">
  <img src="doc/img/log.png" style="width:500px;"/>
</p>



<h4 align="center">
  <a href="./README_EN.md">English README</a> | <a href="./README.md">ä¸­æ–‡ README</a>
</h4>

<h4 align="center">
  <a href="https://tqz0rsrhsvf.feishu.cn/docx/FlgzdMrj0oYOg2xXY7EcrsZZnjb?from=from_copylink">ğŸ“š å®˜æ–¹æ–‡æ¡£</a>
</h4>
<h4 align="center">
  <a href="#é¡¹ç›®æè¿°-">ğŸ” é¡¹ç›®æè¿°</a> â€¢
  <a href="#åŠŸèƒ½é¢„è§ˆ-">ğŸ­ åŠŸèƒ½é¢„è§ˆ</a> â€¢
  <a href="#éƒ¨ç½²-">ğŸ”§ éƒ¨ç½²å®‰è£…</a> â€¢
  <a href="#å¾…åŠæ¸…å•-">ğŸ“Œ å¾…åŠæ¸…å•</a>
  <a href="#äº¤æµ-">ğŸš— è”ç³»æˆ‘ä»¬ </a>
</h4>

<h5 align="center">
  <a href="#powered-by-mobvista---æ±‡é‡ç§‘æŠ€">Powered By Mobvista æ±‡é‡ç§‘æŠ€ - æŠ€æœ¯å›¢é˜Ÿ</a>
</h5>

# é¡¹ç›®æè¿° ğŸ“š

> ä¸€ä¸ªåˆ©ç”¨å¤§æ¨¡å‹å¸®åŠ©æˆ‘ä»¬åœ¨ Gitlab ä¸Šè¿›è¡Œ Code Review æå‡ç ”å‘æ•ˆèƒ½çš„é¡¹ç›® ğŸ’ªğŸ» (( åŒ…æ‹¬ä½†ä¸é™äº GPT ã€DeepSeek ç­‰ğŸ))

**è¿™ä¸ªé¡¹ç›®æœ‰ä»€ä¹ˆç‰¹ç‚¹? âœ¨** 

ğŸ¶ é’ˆå¯¹äº **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> Gitlab </span>** å®šåˆ¶ (è®¡åˆ’æ”¯æŒ Github ã€Gitlab ã€Gitee ã€Bitbucket ç­‰)

ğŸ¤– æˆ‘ä»¬æ­£åœ¨å¼€å‘ **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> Multi-Agent </span>** çš„æ’ä»¶ï¼Œå¤šä¸ª **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> Agent </span>** ååŒå·¥ä½œï¼Œå…±åŒå®Œæˆè¯„å®¡

ğŸ± ç»“åˆäº† **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> å¤šç§å¤§æ¨¡å‹å¯¹æ¥ </span>** çš„èƒ½åŠ›  ğŸš€

ğŸ¦Š èƒ½å¤Ÿæ¥å…¥ç§æœ‰åŒ– LLM  **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> ä»£ç å®‰å…¨é—®é¢˜ </span>** 

ğŸ¦ æˆ‘ä»¬å°†ä¸€ç›´å…³æ³¨æ•ˆèƒ½ç ”å‘ **<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;"> æœ€æ–°çš„Coder ReviewåŠ¨æ€ </span>** èå…¥è¿™ä¸ªé¡¹ç›®




# é¡¹ç›®æ¶æ„ ğŸš—
### å‰æœŸæ¶æ„
<p align="center">
  <img src="doc/img/old-architecture.png" style="width:500px;"/>
</p>

### ğŸš€ **å…¨æ–°æ¶æ„å‡çº§ï¼šæ›´å¼ºå¤§ã€æ›´çµæ´»ã€æ›´é«˜æ•ˆï¼** ğŸŒˆ

<p align="center">
  <img src="doc/img/project_framework.png" style="width:500px;"/>
</p>

ğŸŒŸ **ä¸°å¯Œçš„æ¨¡å‹æ¥å…¥**ã€€æ”¯æŒè½»æ¾æ¥å…¥<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;">æ›´å¤šçš„æ¨¡å‹</span>ï¼Œæ— è®ºæ˜¯ç»å…¸æ¨¡å‹è¿˜æ˜¯æœ€æ–°çš„ AI æ¨¡å‹ï¼Œéƒ½èƒ½è½»æ¾é›†æˆï¼  

ğŸ”§ **é«˜åº¦å®šåˆ¶åŒ–**ã€€ã€€ã€€å¼€å‘è€…å¯ä»¥<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;">ä¾¿æ·åœ°è‡ªå®šä¹‰å¤„ç†é€»è¾‘å’Œå›å¤æœºåˆ¶</span>ï¼Œæ‰“é€ ä¸“å±äºä½ çš„è§£å†³æ–¹æ¡ˆï¼  

ğŸ”— **æ‰©å±•æ€§å¼º**ã€€ã€€ã€€ã€€æ¨¡å—åŒ–è®¾è®¡ä½¿å¾—åŠŸèƒ½æ‰©å±•æ›´åŠ æ–¹ä¾¿ï¼Œæœªæ¥å¯ä»¥<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;">è½»æ¾æ·»åŠ æ–°åŠŸèƒ½</span>ï¼Œæ»¡è¶³ä¸æ–­å˜åŒ–çš„éœ€æ±‚ï¼  

ğŸ› ï¸ **é«˜å¯ç»´æŠ¤æ€§**ã€€ã€€ã€€ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œä¾¿äºç»´æŠ¤å’ŒäºŒæ¬¡å¼€å‘ï¼Œå‡å°‘å¼€å‘è€…çš„è´Ÿæ‹…ï¼  


**å¿«æ¥ä½“éªŒæˆ‘ä»¬çš„æ–°æ¶æ„å§ï¼Œäº«å—å‰æ‰€æœªæœ‰çš„å¼ºå¤§åŠŸèƒ½å’Œæè‡´ä½“éªŒï¼âœ¨**






# åŠŸèƒ½é¢„è§ˆ ğŸŒˆ

### 1. Gitlab Merge Request è§¦å‘è¯„è®º
<p align="center">
  <img src="doc/img/gpt_code_review_gitlab.png" style="width:500px;"/>
</p>

### 2. é’‰é’‰æ¶ˆæ¯é€šçŸ¥
<p align="center">
  <img src="doc/img/img.png" style="width:500px;"/>
</p>

### 3. æ›´å¤šç§å¤§æ¨¡å‹æ¥å…¥
1. å¯é€šè¿‡å®ç°é¡¹ç›®æ¥å£å¿«é€Ÿæ¥å…¥è‡ªå®šä¹‰æ¨¡å‹ï¼Œå…·ä½“é…ç½®æ–¹å¼å‚è§[config.md](doc/config.md)ã€‚
2. é¡¹ç›®é€šè¿‡[UnionLLM](https://github.com/EvalsOne/UnionLLM/)è¿›è¡Œå¤šæ¨¡å‹æ”¯æŒï¼Œ
å…¼å®¹[LiteLLM](https://docs.litellm.ai/docs)ï¼Œé»˜è®¤æ”¯æŒæ¨¡å‹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚

<table style="width:100%; text-align:center; border-collapse:collapse;">
  <tr>
    <td style="color:rgb(0, 64, 255); font-weight: bold;">OpenAI ğŸ”¥</td>
    <td>Azure</td>
    <td>AWS - SageMaker</td>
    <td>AWS - Bedrock</td>
  </tr>
  <tr>
    <td>Google - Vertex_AI</td>
    <td>Google - Palm</td>
    <td>Google AI Studio - Gemini</td>
    <td>Mistral AI API</td>
  </tr>
  <tr>
    <td>Cloudflare AI Workers</td>
    <td>Cohere</td>
    <td>Anthropic</td>
    <td>Empower</td>
  </tr>
  <tr>
    <td>Huggingface</td>
    <td>Replicate</td>
    <td>Together_AI</td>
    <td>OpenRouter</td>
  </tr>
  <tr>
    <td>AI21</td>
    <td>Baseten</td>
    <td>Vllm</td>
    <td>NLP_Cloud</td>
  </tr>
  <tr>
    <td>Aleph Alpha</td>
    <td>Petals</td>
    <td>Ollama</td>
    <td>Deepinfra</td>
  </tr>
  <tr>
    <td>Perplexity-AI</td>
    <td>Groq AI</td>
    <td>DeepSeek</td>
    <td>Anyscale</td>
  </tr>
  <tr>
    <td>IBM - Watsonx.ai</td>
    <td>Voyage AI</td>
    <td>Xinference [Xorbits Inference]</td>
    <td>FriendliAI</td>
  </tr>
  <tr>
    <td>Galadriel</td>
    <td>æ™ºè°±AI</td>
    <td>æœˆä¹‹æš—é¢ Moonshot</td>
    <td>ç™¾åº¦æ–‡å¿ƒä¸€è¨€</td>
  </tr>
  <trd
    <td>é˜¿é‡Œå·´å·´é€šä¹‰åƒé—®</td>
    <td>MiniMax</td>
    <td>è®¯é£æ˜Ÿç«</td>
    <td>ç™¾å·æ™ºèƒ½</td>
  </tr>
  <tr>
    <td>æ˜†ä»‘å¤©å·¥</td>
    <td>é›¶ä¸€ä¸‡ç‰©</td>
    <td>é˜¶è·ƒæ˜Ÿè¾°</td>
    <td>å­—èŠ‚è±†åŒ…</td>
  </tr>
  <tr>
    <td style="color:rgb(0, 64, 255); font-weight: bold;">æ·±åº¦æ±‚ç´¢ DeepSeek ğŸ”¥</td>
    <td>More</td>
    <td></td>
    <td></td>
  </tr>
</table>

### 4.è‡ªå®šä¹‰æ›´å¤šçš„é€šçŸ¥æ–¹å¼å’Œå¤„ç†æ‰‹æ®µ

1. å¯é€šè¿‡å®ç°è‡ªå®šä¹‰``Response``ç±»æ·»åŠ å¦‚é‚®ç®±ï¼Œç§æœ‰æœºå™¨äººç­‰å¤šç§é€šçŸ¥æ–¹å¼ï¼Œå…·ä½“æ•™ç¨‹å‚è§[response.md](doc/response.md)
2. å¯é€šè¿‡è‡ªå®šä¹‰æ›´å¤šçš„``Review Handle``å¼•å…¥è‡ªå®šä¹‰çš„ä»£ç å®¡æŸ¥é€»è¾‘ï¼Œå…·ä½“æ•™ç¨‹å‚è§[review.md](doc/review.md)




# éƒ¨ç½²æŒ‡å— ğŸ“–

æœ¬é¡¹ç›®æä¾›å¤šç§éƒ¨ç½²æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„æ–¹å¼ã€‚

## ç›®å½•
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ğŸ³ Docker éƒ¨ç½²](#docker-éƒ¨ç½²)
- [ğŸ’» æºä»£ç éƒ¨ç½²](#æºä»£ç éƒ¨ç½²)
- [âš™ï¸ é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [ğŸ”— GitLab é…ç½®](#gitlab-é…ç½®)
- [ğŸ”§ æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†ä»“åº“

```bash
git clone git@github.com:mimo-x/Code-Review-GPT-Gitlab.git
cd Code-Review-GPT-Gitlab
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# GitLabé…ç½®
GITLAB_SERVER_URL=https://gitlab.com  # æˆ–æ‚¨çš„ç§æœ‰GitLabåœ°å€
GITLAB_PRIVATE_TOKEN=your-gitlab-token-here

# å¤§æ¨¡å‹APIé…ç½®
GEMINI_API_KEY=your-gemini-api-key-here

# ç½‘ç»œé…ç½®ï¼ˆå¯é€‰ï¼‰
HOST_IP=192.168.x.x  # æ‚¨çš„å®¿ä¸»æœºIPåœ°å€
```

#### è‡ªåŠ¨æ£€æµ‹å®¿ä¸»æœºIPåœ°å€

ä¸ºäº†è®©GitLabèƒ½å¤Ÿæ­£ç¡®è®¿é—®æ‚¨çš„webhookï¼Œæ‚¨éœ€è¦è®¾ç½®æ­£ç¡®çš„å®¿ä¸»æœºIPåœ°å€ï¼š

**Linux/Macç”¨æˆ·**ï¼š
```bash
# è‡ªåŠ¨æ£€æµ‹IPåœ°å€
make get-host-ip

# æ‰‹åŠ¨è®¾ç½®åˆ°.envæ–‡ä»¶
echo "HOST_IP=192.168.x.x" >> .env
```

**Windowsç”¨æˆ·**ï¼š
```powershell
# è¿è¡ŒPowerShellè„šæœ¬è‡ªåŠ¨æ£€æµ‹å¹¶è®¾ç½®
./get-host-ip.ps1

# æˆ–æ‰‹åŠ¨æ·»åŠ åˆ°.envæ–‡ä»¶
Add-Content .env "HOST_IP=192.168.x.x"
```

### 3. é€‰æ‹©éƒ¨ç½²æ–¹å¼

æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©ä»¥ä¸‹ä»»ä¸€éƒ¨ç½²æ–¹å¼ï¼š

## Docker éƒ¨ç½²

Docker éƒ¨ç½²æ˜¯æ¨èçš„éƒ¨ç½²æ–¹å¼ï¼Œæä¾›äº†æ›´å¥½çš„ç¯å¢ƒä¸€è‡´æ€§å’Œæ˜“äºç®¡ç†ã€‚

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰ğŸ³

> ğŸš€ **æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡**

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp env.example .env

# 2. ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env  # æˆ–ä½¿ç”¨æ‚¨å–œæ¬¢çš„ç¼–è¾‘å™¨

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 4. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
docker-compose logs -f codereview
```

**PowerShell ç‰ˆæœ¬**ï¼š
```powershell
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
Copy-Item env.example .env

# 2. ç¼–è¾‘ç¯å¢ƒå˜é‡
notepad .env

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 4. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
docker-compose logs -f codereview
```

**ä½¿ç”¨ Makefileï¼ˆæ›´ç®€å•ï¼‰**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# ä¸€é”®å¯åŠ¨ï¼ˆè‡ªåŠ¨åˆ›å»º.envæ–‡ä»¶ï¼‰
make dev

# æŸ¥çœ‹çŠ¶æ€
make status

# æŸ¥çœ‹æ—¥å¿—
make logs

# åœæ­¢æœåŠ¡
make down
```

#### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œä½¿ç”¨åŒ…å« Nginx åå‘ä»£ç†çš„é…ç½®ï¼š

```bash
# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®
docker-compose -f docker-compose.prod.yml up -d

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.prod.yml ps
```

#### Docker Compose ç®¡ç†å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æ›´æ–°æœåŠ¡
docker-compose pull
docker-compose up -d --no-deps --build codereview

# æ¸…ç†
docker-compose down -v --rmi all
```

### æ–¹å¼äºŒï¼šåŸºäº uv çš„ Docker éƒ¨ç½²âš¡

> ğŸ”¥ **ä½¿ç”¨ uv ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œæ„å»ºæ›´å¿«ï¼Œæ€§èƒ½æ›´ä¼˜**

```bash
# 1. æ„å»ºé•œåƒ
docker build -t codereview-uv .

# 2. è¿è¡Œå®¹å™¨
docker run -d \
  --network bridge \
  --add-host=host.docker.internal:host-gateway \
  --env-file .env \
  -p 8080:80 \
  --name codereview-uv \
  codereview-uv:latest

# 3. éªŒè¯è¿è¡ŒçŠ¶æ€
docker ps
docker logs codereview-uv
```

**PowerShell ç‰ˆæœ¬**ï¼š
```powershell
# 1. æ„å»ºé•œåƒ
docker build -t codereview-uv .

# 2. è¿è¡Œå®¹å™¨
docker run -d `
  --network bridge `
  --add-host=host.docker.internal:host-gateway `
  --env-file .env `
  -p 8080:80 `
  --name codereview-uv `
  codereview-uv:latest

# 3. éªŒè¯è¿è¡ŒçŠ¶æ€
docker ps
docker logs codereview-uv
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨é¢„æ„å»ºé•œåƒ

```bash
# ä½¿ç”¨å®˜æ–¹é¢„æ„å»ºé•œåƒ
docker run -d \
  --network bridge \
  --add-host=host.docker.internal:host-gateway \
  --env-file .env \
  -v ./config:/workspace/config \
  -p 8080:80 \
  --name codereview \
  xuxin1/llmcodereview:latest
```

### Docker éƒ¨ç½²ä¼˜åŠ¿

- âœ… **ç¯å¢ƒä¸€è‡´æ€§**ï¼šé¿å…ç¯å¢ƒå·®å¼‚é—®é¢˜
- âœ… **å¿«é€Ÿéƒ¨ç½²**ï¼šä¸€é”®å¯åŠ¨ï¼Œæ— éœ€é…ç½®ç¯å¢ƒ
- âœ… **æ˜“äºç®¡ç†**ï¼šå®¹å™¨åŒ–ç®¡ç†ï¼Œæ”¯æŒè‡ªåŠ¨é‡å¯
- âœ… **èµ„æºéš”ç¦»**ï¼šç‹¬ç«‹è¿è¡Œç¯å¢ƒ
- âœ… **uv åŠ é€Ÿ**ï¼šæ¯”ä¼ ç»Ÿ pip å¿« 10-100 å€

## æºä»£ç éƒ¨ç½²

é€‚åˆéœ€è¦è‡ªå®šä¹‰ä¿®æ”¹æˆ–è°ƒè¯•çš„ç”¨æˆ·ã€‚

### ä½¿ç”¨ uvï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£… uv 
curl -LsSf https://astral.sh/uv/install.sh | sh # Linux/Mac
# æˆ–
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex" # Windows

# 2. åŒæ­¥ä¾èµ–
uv sync

# 3. é…ç½®ç¯å¢ƒå˜é‡
export GITLAB_SERVER_URL="https://gitlab.com"
export GITLAB_PRIVATE_TOKEN="your-token"
export GEMINI_API_KEY="your-api-key"

# 4. è¿è¡Œåº”ç”¨
uv run app.py
```

### ä½¿ç”¨ä¼ ç»Ÿ pip

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®ç¯å¢ƒå˜é‡
export GITLAB_SERVER_URL="https://gitlab.com"
export GITLAB_PRIVATE_TOKEN="your-token"
export GEMINI_API_KEY="your-api-key"

# 4. è¿è¡Œåº”ç”¨
python app.py
```

## é…ç½®è¯´æ˜

### å¿…éœ€é…ç½®

#### GitLab é…ç½®

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `GITLAB_SERVER_URL` | GitLab æœåŠ¡å™¨åœ°å€ | `https://gitlab.com` |
| `GITLAB_PRIVATE_TOKEN` | GitLab ç§æœ‰è®¿é—®ä»¤ç‰Œ | `glpat-xxxxxxxxxxxxxxxxxxxx` |

#### å¤§æ¨¡å‹é…ç½®

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `GEMINI_API_KEY` | Gemini API å¯†é’¥ | `AIzaSyxxxxxxxxxxxxxxxxxxxxxxxx` |

### å¯é€‰é…ç½®

#### é’‰é’‰é€šçŸ¥ï¼ˆå¯é€‰ï¼‰

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `DINGDING_BOT_WEBHOOK` | é’‰é’‰æœºå™¨äºº Webhook | `https://oapi.dingtalk.com/...` |
| `DINGDING_SECRET` | é’‰é’‰æœºå™¨äººå¯†é’¥ | `SECxxxxxxxxxxxxxxxxxx` |

### é«˜çº§é…ç½®

æ‚¨å¯ä»¥åœ¨ `config/config.py` ä¸­è°ƒæ•´æ›´å¤šé…ç½®ï¼š

```python
# å¢å¼ºç‰ˆcommitå®¡æŸ¥åŠŸèƒ½
ENABLE_ENHANCED_COMMIT_REVIEW = True
MAX_ESTIMATED_TOKENS = 50000
BATCH_SIZE_FOR_COMMIT_REVIEW = 5

# æ”¯æŒçš„æ–‡ä»¶ç±»å‹
SUPPORTED_FILE_TYPES = ['.py', '.js', '.vue', '.go', '.java', '.cpp']

# å®¡æŸ¥è®¾ç½®
REVIEW_PER_COMMIT = True
MAX_FILES_PER_COMMIT = 20
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. å®¹å™¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**ï¼š`docker ps` æ˜¾ç¤ºå®¹å™¨å·²é€€å‡º

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker logs codereview-uv

# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker exec codereview-uv printenv | grep -E "(GITLAB|GEMINI)"
```

#### 2. Webhook æ¥æ”¶å¤±è´¥

**ç—‡çŠ¶**ï¼šGitLab æ˜¾ç¤º webhook è°ƒç”¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥åº”ç”¨æ˜¯å¦è¿è¡Œ
curl http://localhost:8080/git/webhook

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker logs codereview-uv -f

# éªŒè¯ç½‘ç»œè¿é€šæ€§
ping your-gitlab-server
```

#### 3. API è°ƒç”¨å¤±è´¥

**ç—‡çŠ¶**ï¼šæ—¥å¿—æ˜¾ç¤º API å¯†é’¥é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®
echo $GEMINI_API_KEY

# éªŒè¯ API å¯†é’¥æœ‰æ•ˆæ€§
curl -H "Authorization: Bearer $GEMINI_API_KEY" \
  https://generativelanguage.googleapis.com/v1/models
```

### è°ƒè¯•æŠ€å·§
```

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ªæµ‹è¯• Merge Requestï¼š

1. **åˆ›å»ºæ–°åˆ†æ”¯**
2. **ä¿®æ”¹ä¸€ä¸ª Python æ–‡ä»¶**
3. **æäº¤å¹¶æ¨é€**
4. **åˆ›å»º Merge Request**
5. **è§‚å¯Ÿ AI å®¡æŸ¥è¯„è®º**

# å¾…åŠæ¸…å• ğŸ“Œ

- âœ… ä½¿ç”¨ GPT è¿›è¡ŒCode Review
- âœ… å®ç°å¤šæ¨¡å‹æ”¯æŒ
- [ ] å¯ä»¥é…ç½®æ›´å¤šçš„è§¦å‘æ–¹å¼
  - âœ… Merge Request
  - [ ] commit
  - [ ] tag
- [ ] å…¼å®¹é£ä¹¦çš„æ¶ˆæ¯é€šçŸ¥
- [ ] å…¼å®¹é’‰é’‰çš„æ¶ˆæ¯é€šçŸ¥
- [ ] ç»“åˆé™æ€ä»£ç åˆ†ææ¥æä¾›ä¿®æ”¹ä»£ç çš„é£é™©ç­‰çº§
- [ ] é€šè¿‡pydanticå®ç°å¤§æ¨¡å‹è¾“å‡ºå†…å®¹çš„æ ¼å¼åŒ–
- âœ… æ”¯æŒæ’ä»¶å¼è‡ªå®šä¹‰ Review çš„é—®é¢˜

# äº¤æµ ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦
ğŸ‘ğŸ» å¾ˆé«˜å…´ä½ èƒ½å‘æˆ‘ä»¬æå‡ºä¸€äº›é—®é¢˜å’Œä¿®æ”¹å»ºè®®ï¼ˆIssueï¼ŒPRï¼‰, æ¬¢è¿ **star é¡¹ç›® â­ï¸** 

ğŸ“® *Email*ï¼š**mixuxin@163.com** 

ğŸ“± *wx*ï¼š**isxuxin**

ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ å¦‚æœæœ‰ä»»ä½•ä½¿ç”¨é—®é¢˜ï¼Œæ¬¢è¿æ¥è¿™é‡Œäº¤æµï¼ˆ<span style="background-image: linear-gradient(to right, #ff9900, #ff66cc);-webkit-background-clip: text;color: transparent;font-weight: bold;">AI ç ”å‘æ•ˆèƒ½é¢†åŸŸ</span>ï¼‰ ğŸ‘‹ 
<p float="left">
  <img src="doc/img/wechat.jpg" width="400" />
  <img src="doc/img/xuxin.png" width="400" /> 
</p>



# å‚è€ƒæ–‡çŒ® ğŸ“š
- [(å­—èŠ‚)åŸºäºå¤§æ¨¡å‹ + çŸ¥è¯†åº“çš„ Code Review å®è·µ](https://mp.weixin.qq.com/s?__biz=Mzg2ODQ1OTExOA==&mid=2247504479&idx=1&sn=1ec09afbb5b5b9b2aaf151994be5fd27&chksm=cea9655ef9deec48b17cbab05ddd1ab04c86736d8b469eaac6f5a707ca110ce4186e8985ff41&mpshare=1&scene=1&srcid=1011C8l5RmCM2EL4Rpl3wdRy&sharer_shareinfo=96d0a83631aaa25db87709baa250085d&sharer_shareinfo_first=96d0a83631aaa25db87709baa250085d#rd)
- [(ç¾å›¢)ä»£ç å˜æ›´é£é™©å¯è§†åŒ–ç³»ç»Ÿå»ºè®¾ä¸å®è·µ](https://tech.meituan.com/2023/09/22/construction-and-practice-of-code-change-risk-visualization-system.html)



## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=mimo-x/Code-Review-GPT-Gitlab&type=Date)](https://star-history.com/#mimo-x/Code-Review-GPT-Gitlab&Date)

## Powered by [Mobvista - æ±‡é‡ç§‘æŠ€](https://www.mobvista.com)

<p align="left">
  <img src="doc/img/Logo-MV.png" style="width:200px;"/>
</p>

> **æœ¬é¡¹ç›®ç”± [Mobvista æ±‡é‡ç§‘æŠ€](https://www.mobvista.com) çš„æŠ€æœ¯å›¢é˜Ÿç ”å‘åŠå‘å¸ƒã€‚**

[**Mobvista æ±‡é‡ç§‘æŠ€**](https://www.mobvista.com) æ˜¯å…¨çƒé¢†å…ˆçš„å¼€å‘è€…å¢é•¿å¹³å°ã€‚æˆ‘ä»¬ä¸ºå…¨çƒå¼€å‘è€…å’Œè¥é”€äººå‘˜**æä¾›å®Œæ•´çš„å¹¿å‘Šå’Œåˆ†æå·¥å…·å¥—ä»¶**ï¼ŒåŒ…æ‹¬ç”¨æˆ·**è·å–ã€å˜ç°ã€åˆ†æã€åˆ›æ„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åª’ä½“é‡‡ä¹°**ç­‰ï¼Œèƒ½å¤§å¹…æå‡å¹¿å‘Šè¥é”€ROIï¼Œæœ‰æ•ˆå¸®åŠ©ç§»åŠ¨åº”ç”¨çªç ´å¢é•¿å¹³å°æœŸã€‚ 



> **This tool is developed by the engineering team at [**Mobvista**](https://www.mobvista.com).** 

Mobvista is a leading mobile technology company that provides **a complete suite of advertising and analytics tools** for app developers and marketers seeking global growth. Offering a range of tailored solutions, such as **user acquisition, monetization, analytics, creative automation, and cross-channel media buying**, Mobvista enables mobile businesses to maximize their potential.

For more information, please visit our website: www.mobvista.com



# License ğŸ“‘
![github license](https://img.shields.io/github/license/mimo-x/Code-Review-GPT-Gitlab)
**This project is licensed under the [MIT License](https://chat.openai.com/c/9be6b422-f10c-4379-b152-e756230d54f8#:~:text=%E7%9A%84%E5%AE%8C%E6%95%B4%E6%96%87%E6%9C%AC%EF%BC%9A-,MIT%20License,-%E4%BD%A0%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE).**
